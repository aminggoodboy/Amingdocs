# 遥控代码编辑定制 - 安卓9

1. 解压固件，修改固件遥控代码debug为1（\vendor\etc\remote.cfg）
2. 打包固件，然后刷入
3. adb connect 192.168.xxx.xxx 连接盒子
4. adb shell 开启命令
5. su 回车 获取root权限
6. dmesg -w | grep remote 获取遥控代码
7. 用手中得遥控对着机顶盒按，得到代码
8. framecode=0xfd02ff00 这里的意思是遥控器代码是ff00
9. receive scancode=0x2 比如这里按的左键，代码就是0x2
10. 记录上面得遥控代码和按键代码
11. 替换到\vendor\etc\remote.tab4或者之类得文件中，遥控代码和按键代码都要修改，然后保存刷入即可！（这里需要注意，如果原本的代码没有按键定义说明，可以到\vendor\usr\keylayout这个目录下查看Vendor_0001_Product_0001.kl这个里面得代码，对照输入）

# 遥控代码定制 - 低版本

1. 和上面得方法大同小异
2. system\etc存放代码得目录在这个里面
3. 结尾可能是conf，原理是一样得

# 替换系统桌面

1. \system\app这个目录下存放得是系统级别得应用，一般桌面就在这个里面

# 替换开机动画

1. \system\media这个文件夹内是开机动画，要么是多张图片，要么是视频

# 替换开机自动安装应用

1. \system\preinstall 这个目录下是开机自动安装得应用，一定要全英文，不能有中文

# 内置root权限

1. 将su文件放到固件路径**/system/bin/su**
2. 找到盒子的自启脚本，比如**/system/etc/install-recovery.sh**或者/system/bin/btplay.sh等等.sh结尾得文件，一般是前者
3. 给最后回车，添加一行
   **/system/bin/su --auto-daemon &**
   加ROOT完成，重签打包刷机

# 内置root其他复杂方法 - 面具

1. 开启ADB，如果不能开启就装【爱玩机工具箱】，在“爱玩机工具箱-导航-系统设置”开启“USB调试”。
2. 连接电脑。可以使用USB公对公数据线直接连接。也可以安装“ADB WiFi”后电脑端使用“adb connect 机顶盒IP地址”建立连接。（这里如果是电脑就用开心盒子助手之类软件）
3. 提升权限。“adb root”
4. 提取boot分区。
   “adb shell dd if=/dev/block/boot of=/sdcard/download/boot.img”
5. 第三步：修补boot镜像。
   安装“Magisk”，然后在“Magisk-安装-下一步-选择并修补一个文件”选择你刚才提取的boot.img。如果有遥控器点不到的按钮，连接键盘，多次按下“Tab”键直到选中对应的按钮。修补后在输出窗口查看修补后的文件名（/sdcard/downlad/magisk_patched-xxxxx_xxxxx.img）。
6. 第四步：刷入boot镜像。
   “adb shell dd if=/sdcard/downlad/magisk_patched-xxxxx_xxxxx.img of=/dev/block/boot”（把magisk_patched-xxxxx_xxxxx.img替换成刚刚生成的文件名）
7. 第五步：重启。之后你的设备就已经成功Root。
8. [面具下载连接点我](https://www.coolapk.com/apk/com.topjohnwu.magisk)
9. [爱玩机工具箱点我下载](https://www.coolapk.com/apk/com.byyoung.setting)
10. [ADBWiFi点我下载](https://www.coolapk.com/apk/com.rair.adbwifi)

# 修改固件默认开启ADB

1. <u>**4.4.2包修改方法**</u>
   1. 在system/build.prop里面修改
   2. ro.adb.secure=0 （原内容1修改为0）
   3. persist.service.adb.enable=1 （在代码adb5555上面一行新增这个代码）
2. <u>**9.0包修改方法**</u>
   1. 在system/etc/prop.default里面加上一句persist.sys.usb.config=adb，即可默认开启ADB